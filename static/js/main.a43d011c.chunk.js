(this.webpackJsonpdictation=this.webpackJsonpdictation||[]).push([[0],[,,,function(e,n,t){e.exports={bodyContainer:"App_bodyContainer__3rOsc",questionsContainer:"App_questionsContainer__rogn6",submitRow:"App_submitRow__3-Thd",pass:"App_pass__1OdCe",fail:"App_fail__2L5CD"}},function(e,n,t){e.exports={wrapper:"CreateDictation_wrapper__3uS4z",radioRowWrapper:"CreateDictation_radioRowWrapper__j8HrK",text:"CreateDictation_text__hay6F"}},function(e,n,t){e.exports={button:"Button_button__LwMAv",small:"Button_small__3g1wS",primary:"Button_primary__qrr19",secondary:"Button_secondary__1sG9u",gray:"Button_gray__1CwZu",danger:"Button_danger__2AbMH"}},,,function(e,n,t){e.exports={alertBox:"AlertBox_alertBox__1Cz2A",text:"AlertBox_text__3LoEw",btnRow:"AlertBox_btnRow__z6wLN",alertBoxWrapper:"AlertBox_alertBoxWrapper__2gz0e"}},,function(e,n,t){e.exports={container:"Container_container__lHqDY"}},function(e,n,t){e.exports={navBar:"NavBar_navBar__3h6Ps",navBarContainer:"NavBar_navBarContainer__27UHj"}},function(e,n,t){e.exports={question:"Question_question__3Vj_o",questionInput:"Question_questionInput__3Qdsk",speakerImage:"Question_speakerImage__1TIsM"}},function(e,n,t){e.exports={input:"Input_input__119AQ",success:"Input_success__TyCV7",error:"Input_error__DPuVX"}},,function(e,n,t){e.exports={wrapper:"Timer_wrapper__1Es_h",timer:"Timer_timer__l0bKV"}},,function(e,n,t){e.exports={wordInputBar:"WordInput_wordInputBar__2ImGx"}},function(e,n,t){e.exports={radioBtn:"RadioRow_radioBtn__F-0a9"}},function(e,n,t){e.exports={hiddenInput:"FileInput_hiddenInput__3DHU0"}},,,,,function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),i=t(16),r=t.n(i),o=(t(24),t(2)),l=t(3),s=t.n(l),u=t(10),d=t.n(u),j=t(0),b=function(e){var n=e.className,t=void 0===n?null:n,a=e.children;return Object(j.jsx)("div",{className:[d.a.container,t].filter((function(e){return null!==e})).join(" "),children:a})},p=t(11),f=t.n(p),h=t(5),O=t.n(h),m=function(e){var n=e.color,t=e.isSmall,a=void 0!==t&&t,c=e.onClick,i=e.children,r=e.disabled;return Object(j.jsx)("button",{className:[O.a.button,!0===a?O.a.small:null,function(){switch(n){case"primary":return O.a.primary;case"secondary":return O.a.secondary;case"gray":return O.a.gray;case"danger":return O.a.danger;default:return null}}()].filter((function(e){return null!==e})).join(" "),onClick:c,disabled:r,children:i})},v=function(e){var n=e.onPageChange;return Object(j.jsx)("div",{className:f.a.navBar,children:Object(j.jsxs)(b,{className:f.a.navBarContainer,children:[Object(j.jsx)("div",{className:f.a.logo,children:"Dictation"}),Object(j.jsx)(m,{onClick:function(){return n("Do Dictation")},isSmall:!0,color:"primary",children:"Do Dictation"}),Object(j.jsx)(m,{color:"primary",onClick:function(){n("Make Dictation")},isSmall:!0,children:"Make Dictation"})]})})},x=t(6),_=t.p+"static/media/speaker_icon.32742772.svg",C=t(12),g=t.n(C),w=t(13),y=t.n(w),k=function(e){var n=e.placeholder,t=void 0===n?null:n,a=e.value,c=e.onChange,i=e.error,r=void 0!==i&&i,o=e.success,l=void 0!==o&&o,s=e.className,u=void 0===s?null:s,d=e.onClick;return Object(j.jsx)("input",{placeholder:t,value:a,onChange:c,className:[y.a.input,!1!==r?y.a.error:null,!1!==l?y.a.success:null,u].filter((function(e){return null!==e})).join(" "),onClick:d})},N=function(e){var n=e.isCorrect,t=e.placeholder,c=e.word,i=e.onChange,r=e.value,o=e.voice,l=Object(a.useMemo)((function(){var e=new SpeechSynthesisUtterance(c);return e.voice=o,e}),[c,o]);return Object(j.jsxs)("div",{className:g.a.question,children:[Object(j.jsx)(m,{onClick:function(){window.speechSynthesis.speak(l)},color:"secondary",children:Object(j.jsx)("img",{src:_,alt:"Play Audio",className:g.a.speakerImage})}),Object(j.jsx)(k,{placeholder:t,success:!0===n,error:!1===n,value:r,className:g.a.questionInput,onChange:function(e){i(e.target.value)}})]})},B=t(15),S=t.n(B),D=function(e){var n=e.remainingTime,t=Math.floor(n/60);return n>60&&(n-=60*t),Object(j.jsx)("div",{className:d.a.container+" "+S.a.wrapper,children:Object(j.jsxs)("div",{className:S.a.timer,children:[Object(j.jsx)("div",{children:"Remaining Time"}),Object(j.jsxs)("div",{children:[t<10?"0"+t:t,":",n<10?"0"+n:n]})]})})},I=t(8),A=t.n(I),R=function(e){var n=e.title,t=e.btnOnClick;return Object(j.jsx)("div",{className:A.a.alertBoxWrapper,children:Object(j.jsxs)("div",{className:A.a.alertBox,children:[Object(j.jsxs)("div",{className:A.a.text,children:[Object(j.jsxs)("div",{children:["The ",n," test will start."]}),Object(j.jsx)("div",{children:"Are you ready?"})]}),Object(j.jsxs)("div",{className:A.a.btnRow,children:[Object(j.jsx)(m,{color:"primary",onClick:function(){return t("yes")},children:"Yes"}),Object(j.jsx)(m,{color:"gray",onClick:function(){return t("cancel")},children:"Cancel"})]})]})})},T=function(e){var n=e.time,t=Object(a.useState)(null),c=Object(o.a)(t,2),i=c[0],r=c[1],l=Object(a.useState)(null),u=Object(o.a)(l,2),d=u[0],b=u[1],p=Object(a.useState)([]),f=Object(o.a)(p,2),h=f[0],O=f[1],v=Object(a.useState)(null),_=Object(o.a)(v,2),C=_[0],g=_[1],w=Object(a.useRef)(null),y=Object(a.useState)(null),k=Object(o.a)(y,2),B=k[0],S=k[1],I=Object(a.useState)(null),A=Object(o.a)(I,2),T=A[0],E=A[1],q=Object(a.useState)(!1),F=Object(o.a)(q,2),M=F[0],W=F[1],L=null===d||void 0===d?void 0:d.words.length,P=Object(a.useCallback)((function(e){if(0!==e.target.files.length){var n=e.target.files[0],t=new FileReader;t.onload=function(){var e=t.result,n=JSON.parse(e);O(n.words.map((function(){return""}))),b(n)},t.readAsText(n),g(null)}}),[]);Object(a.useEffect)((function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","application/json,.dictation"),e.addEventListener("change",P),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}),[P,n]);var U=Object(a.useCallback)((function(){null!==d&&(g(h.reduce((function(e,n,t){return e+(d.words[t]===n?1:0)}),0)),clearTimeout(w.current))}),[d,h]);Object(a.useEffect)((function(){if(null!==d){var e;E(!1);var n=w.current;"number"===typeof n&&clearTimeout(n),S(null!==(e=d.time)&&void 0!==e?e:10*d.words.length),console.log("dictation changed")}}),[d]),Object(a.useEffect)((function(){console.log(B),0!==B&&null!==B&&T&&(console.log(B+"will count down"),w.current=setTimeout((function(){S(B-1)}),1e3))}),[B,T]),Object(a.useEffect)((function(){0===B&&U()}),[B,U]),Object(a.useEffect)((function(){W(null!==d)}),[d]);return Object(a.useEffect)((function(){var e=function(){var e=window.speechSynthesis.getVoices(),n=e.find((function(e){return"Google UK English Male"===e.name}));if(void 0===n){var t=e.find((function(e){return"en-US"===e.lang}));r(void 0===t?e[0]:t)}else r(n)};e(),void 0!==window.speechSynthesis.onvoiceschanged&&(window.speechSynthesis.onvoiceschanged=e)}),[]),null!==d?Object(j.jsxs)(j.Fragment,{children:[M?Object(j.jsx)(R,{title:d.title,btnOnClick:function(e){"cancel"===e?b(null):"yes"===e&&E(!0),W(!1)}}):null,Object(j.jsx)("h1",{children:d.title}),d.words.map((function(e,n){return Object(j.jsx)(N,{isCorrect:null,placeholder:"Question "+(n+1),voice:i,onChange:function(e){var t=Object(x.a)(h);t[n]=e,O(t)},word:e,value:h[n]},n)})),Object(j.jsxs)("div",{className:s.a.submitRow,children:[Object(j.jsx)(m,{color:"primary",onClick:U,disabled:null!==C,children:"Submit"}),null!==C?Object(j.jsxs)("p",{className:C/L>=.5?s.a.pass:s.a.fail,children:[C,"/",L," (",Math.round(10*C/L*100)/10,"%)"]}):null]}),Object(j.jsx)(D,{remainingTime:B})]}):null},E=t(17),q=t.n(E),F=function(e){var n=e.i,t=e.value,a=e.onChange,c=e.plusBtnOnClick,i=e.minusBtnOnClick;return Object(j.jsxs)("div",{className:q.a.wordInputBar,children:[Object(j.jsxs)("p",{children:[n+1,"."]}),Object(j.jsx)(k,{onChange:function(e){return a(e.target.value,n)},value:t}),Object(j.jsx)(m,{onClick:function(){return c(n)},color:"secondary",children:"+"}),Object(j.jsx)(m,{onClick:function(){return i(n)},color:"secondary",children:"\u2212"})]})},M=t(4),W=t.n(M),L=t(18),P=t.n(L),U=function(e){var n=e.isChecked,t=e.value,a=e.onClick,c=e.label;return Object(j.jsxs)("div",{className:W.a.radioRowWrapper,onClick:function(){a(t)},children:[Object(j.jsx)("input",{className:P.a.radioBtn,type:"radio",checked:n}),Object(j.jsx)("label",{className:W.a.text,children:c})]})},H=t(19),Q=t.n(H),Y=function(e){var n=e.color,t=e.isSmall,c=void 0!==t&&t,i=e.onChange,r=e.label,o=Object(a.useRef)(null);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{color:n,isSmall:c,onClick:function(){var e=o.current;null!==e&&e.click()},children:r}),Object(j.jsx)("input",{type:"file",accept:"application/json,.dictation",onChange:function(e){i(e),e.target.value=null},className:Q.a.hiddenInput,ref:o})]})},J=function(){var e=c.a.useState([""]),n=Object(o.a)(e,2),t=n[0],a=n[1],i=c.a.useState(null),r=Object(o.a)(i,2),l=r[0],u=r[1],d=c.a.useState(null),b=Object(o.a)(d,2),p=b[0],f=b[1],h=c.a.useState(null),O=Object(o.a)(h,2),v=O[0],_=O[1],C=function(e,n){var c=Object(x.a)(t);c[n]=e,a(c)},g=function(e){var n=Object(x.a)(t);n.splice(e+1,0,""),a(n)},w=function(e){if(1!==t.length){var n=Object(x.a)(t);n.splice(e,1),a(n)}},y=function(e){f(e),"default"===e&&_(null)},N=function(){_(""),f("default"),u(""),a([""])};return Object(j.jsxs)("div",{className:W.a.wrapper,children:[Object(j.jsxs)("div",{className:s.a.submitRow,children:[Object(j.jsx)(Y,{onChange:function(e){if(0!==e.target.files.length){var n=e.target.files[0],t=new FileReader;t.onload=function(){N();var e=t.result,n=JSON.parse(e);u(n.title),a(n.words),null===n.time?f("default"):(f("setYourOwn"),_(n.time))},t.readAsText(n)}},color:"primary",label:"Load Dictation..."}),Object(j.jsx)(m,{color:"danger",onClick:N,children:"Clear Dictation"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Title"}),Object(j.jsx)(k,{onChange:function(e){u(e.target.value)},value:l})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Words"}),Object(j.jsx)("div",{className:s.a.questionsContainer,children:t.map((function(e,n){return Object(j.jsx)("div",{className:s.a.wrapper,children:Object(j.jsx)(F,{i:n,value:e,onChange:C,plusBtnOnClick:g,minusBtnOnClick:w})},n)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Time limit"}),Object(j.jsx)("div",{className:W.a.radioRowWrapper,children:Object(j.jsx)(U,{i:0,label:"Use default time",onClick:y,value:"default",isChecked:"default"===p})}),Object(j.jsxs)("div",{className:W.a.radioRowWrapper,children:[Object(j.jsx)(U,{i:1,label:"Set your own time(seconds):",value:"setYourOwn",onClick:y,isChecked:"setYourOwn"===p}),Object(j.jsx)(k,{value:v,onChange:function(e){var n;n=e.target.value,_(n)},onClick:function(){return y("setYourOwn")}})]})]}),Object(j.jsx)("div",{className:s.a.submitRow,children:Object(j.jsx)(m,{color:"primary",onClick:function(){var e={title:l,words:t,time:v};!function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(JSON.stringify(e),l+".dictation")},children:"Download file"})})]})},V=function(){var e=Object(a.useState)("Home"),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(null),r=Object(o.a)(i,2),l=r[0],u=r[1],d={"Do Dictation":Object(j.jsx)(T,{time:l}),"Make Dictation":Object(j.jsx)(J,{})};return Object(j.jsxs)("div",{className:s.a.bodyContainer,children:[Object(j.jsx)(v,{onPageChange:function(e){c(e),u((new Date).getTime())}}),Object(j.jsx)(b,{className:s.a.questionsContainer,children:d[t]})]})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,27)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(V,{})}),document.getElementById("root")),z()}],[[26,1,2]]]);
//# sourceMappingURL=main.a43d011c.chunk.js.map